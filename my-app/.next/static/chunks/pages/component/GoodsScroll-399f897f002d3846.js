(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{6219:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/component/GoodsScroll",function(){return o(8890)}])},3409:function(e,t,o){"use strict";o.d(t,{a:function(){return s}});let s={api_url:"https://admin.floralismhk.com"}},5829:function(e,t,o){"use strict";var s=o(3409);t.Z={sendEmail:e=>fetch("".concat(s.a.api_url,"/api/ems/send"),{body:JSON.stringify(e),method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),register:e=>fetch("".concat(s.a.api_url,"/api/user/registerByEmail"),{body:JSON.stringify(e),method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),loginByCode:e=>fetch("".concat(s.a.api_url,"/api/user/loginByCode"),{body:JSON.stringify(e),method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),loginByPassword:e=>fetch("".concat(s.a.api_url,"/api/user/passwordLogin/"),{body:JSON.stringify(e),method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),verifyCode:e=>fetch("".concat(s.a.api_url,"/api/user/verifyCode"),{body:JSON.stringify(e),method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),resetPassword:e=>fetch("".concat(s.a.api_url,"/api/user/resetPassword"),{body:JSON.stringify(e),method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),AddToCart:e=>fetch("".concat(s.a.api_url,"/api/cart/create"),{body:JSON.stringify({flower_specs_id:e.flower_specs_id,num:e.num,cardtype:e.cardtype,cardcontent:e.cardcontent}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),changeShopCarNumber:e=>fetch("".concat(s.a.api_url,"/api/cart/updateNum"),{body:JSON.stringify({id:e.id,num:e.num}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),deleteProductionFromShopCar:e=>fetch("".concat(s.a.api_url,"/api/cart/delete"),{body:JSON.stringify({ids:e.ids}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),addAddress:e=>fetch("".concat(s.a.api_url,"/api/address/create"),{body:JSON.stringify({mobile:e.mobile,name:e.username,location:e.address}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),updateAddress:e=>fetch("".concat(s.a.api_url,"/api/address/update"),{body:JSON.stringify({id:e.id,mobile:e.mobile,name:e.username,location:e.position}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),setDefaultAddress:e=>fetch("".concat(s.a.api_url,"/api/address/setDefault"),{body:JSON.stringify({id:e.id}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),createOrder:e=>fetch("".concat(s.a.api_url,"/api/order/create"),{body:JSON.stringify(e),method:"POST",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),deleteAddress:e=>fetch("".concat(s.a.api_url,"/api/address/delete"),{body:JSON.stringify({id:e.id}),method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Request-Headers":"Content-Type"}}),fetchGoods:e=>fetch("".concat(s.a.api_url,"/api/flowers/index?keyword=").concat(e.keyword,"&flower_category_id=").concat(e.flower_category_id,"&listRows=").concat(e.listRows,"&page=").concat(e.page),{method:"GET",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"GET,POST","Access-Control-Request-Headers":"Content-Type"}}),fetchOrderDetail:async e=>await fetch("".concat(s.a.api_url,"/api/order/detail?order_id=").concat(e.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"GET,POST","Access-Control-Request-Headers":"Content-Type"}}),updateUserMessage:async e=>await fetch("".concat(s.a.api_url,"/api/User/changeUserInfo"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(e.cookie),"Content-Type":"application/json","Access-Control-Request-Method":"GET,POST","Access-Control-Request-Headers":"Content-Type"}})}},751:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return r}});var s=o(5893),i=o(2897),n=o.n(i);function r(e){var t,o,i,r,a,c,l,d,u,p,h,m,_,g,y,f,v,x,C,b,T,w,S,O,R,A;return"category"!==e.type&&"carsouel"!==e.type?(0,s.jsxs)("div",{className:"".concat(n().GoodsItem),onClick:()=>{location.href="/production/".concat(e.item.id)},style:{padding:"2%",...e.top_style},children:[(0,s.jsxs)("div",{className:e.animation&&("category"===e.type||"carsouel"===e.type)?n().goods_img_cover:"",style:{position:"relative",...e.imgTopStyle},children:[(0,s.jsx)("img",{src:null==e?void 0:null===(p=e.item)||void 0===p?void 0:p.photoimage,style:{width:"100%",display:"block",...e.imgStyle},className:"toLarge"===e.animation?"".concat(n().goods_img," ").concat(n().an_fangda):"".concat(n().goods_img)}),(null===(h=e.item)||void 0===h?void 0:null===(m=h.photoimages)||void 0===m?void 0:m.length)&&(null===(_=e.item)||void 0===_?void 0:_.photoimages[0])&&(0,s.jsx)("img",{src:null==e?void 0:null===(g=e.item)||void 0===g?void 0:g.photoimages[0],style:{borderRadius:16},className:n().goods_hover_img}),(0,s.jsx)("button",{className:n().buy_goods_btn,children:"點擊購買"})]}),"category"===e.type?(0,s.jsx)("div",{style:{width:"100%",marginTop:16,display:"flex"},children:(0,s.jsx)("div",{style:{...e.style},className:n().goods_title,children:e.item.categoryname})}):"carsouel"===e.type?(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:16,paddingLeft:"10%",paddingRight:"10%",alignItems:"center"},children:[(0,s.jsx)("div",{style:{width:"100%",textOverflow:"ellipsis",textAlign:"center",overflow:"hidden",whiteSpace:"nowrap"},children:null!==(C=null==e?void 0:null===(y=e.item)||void 0===y?void 0:y.flowername)&&void 0!==C?C:""}),(0,s.jsx)("div",{className:n().goods_carsouel_price,style:{width:"100%",textAlign:"center",whiteSpace:"nowrap"},children:"HK$ "+(null==e?void 0:null===(f=e.item)||void 0===f?void 0:f.price)})]}):(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:16,paddingLeft:"10%",paddingRight:"10%",alignItems:"center"},children:[(0,s.jsx)("div",{style:{width:"100%",textOverflow:"ellipsis",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"},children:null!==(T=null==e?void 0:null===(v=e.item)||void 0===v?void 0:v.flowername)&&void 0!==T?T:""}),(0,s.jsx)("div",{className:n().goods_price,style:{width:"100%",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"},children:"HK$ "+(null==e?void 0:null===(x=e.item)||void 0===x?void 0:x.price)})]})]}):(0,s.jsxs)("div",{className:"".concat(n().GoodsItem," ").concat("category"===e.type&&n().Iscategory),onClick:()=>{"category"!==e.type?location.href="/production/".concat(e.item.id):location.href="/category/".concat(e.item.id)},style:{padding:"2%",...e.top_style},children:[(0,s.jsxs)("div",{className:"category"===e.type||"carsouel"===e.type?n().goods_img_cover:"",style:{position:"relative",...e.imgTopStyle},children:[(0,s.jsx)("img",{src:null==e?void 0:null===(t=e.item)||void 0===t?void 0:t.photoimage,style:{width:"100%",display:"block",...e.imgStyle},className:"toLarge"===e.animation?"".concat(n().goods_img," ").concat(n().an_fangda):"".concat(n().goods_img)}),"category"!==e.type&&"carsouel"!==e.type&&(null===(o=e.item)||void 0===o?void 0:null===(i=o.photoimages)||void 0===i?void 0:i.length)&&(null===(r=e.item)||void 0===r?void 0:r.photoimages[0])&&(0,s.jsx)("img",{src:null==e?void 0:null===(a=e.item)||void 0===a?void 0:a.photoimages[0],style:{borderRadius:16},className:n().goods_hover_img}),"carsouel"===e.type&&(0,s.jsx)("button",{className:n().buy_btn,children:"點擊購買"})]}),"category"===e.type?(0,s.jsx)("div",{style:{width:"100%",marginTop:16,display:"flex"},children:(0,s.jsx)("div",{style:{...e.style},className:n().goods_title,children:e.item.categoryname})}):"carsouel"===e.type?(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:16,paddingLeft:"10%",paddingRight:"10%",alignItems:"center"},children:[(0,s.jsx)("div",{style:{width:"100%",textOverflow:"ellipsis",textAlign:"center",overflow:"hidden",whiteSpace:"nowrap"},children:null!==(S=null==e?void 0:null===(c=e.item)||void 0===c?void 0:c.flowername)&&void 0!==S?S:""}),(0,s.jsx)("div",{className:n().goods_carsouel_price,style:{width:"100%",textAlign:"center",whiteSpace:"nowrap"},children:"HK$ "+(null==e?void 0:null===(l=e.item)||void 0===l?void 0:l.price)})]}):(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:16,paddingLeft:"10%",paddingRight:"10%",alignItems:"center"},children:[(0,s.jsx)("div",{style:{width:"100%",textOverflow:"ellipsis",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"},children:null!==(R=null==e?void 0:null===(d=e.item)||void 0===d?void 0:d.flowername)&&void 0!==R?R:""}),(0,s.jsx)("div",{className:n().goods_price,style:{width:"100%",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"},children:"HK$ "+(null==e?void 0:null===(u=e.item)||void 0===u?void 0:u.price)})]})]})}},8890:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var s=o(5893),i=o(9854),n=o.n(i),r=o(9392),a=o.n(r),c=o(751),l=o(7294),d=o(8228),u=o(5829);function p(e){var t;let[o,i]=(0,l.useState)(e.list),r=(0,d.D)({mutationKey:["PageFetchGoods",e.perPage],mutationFn:e=>u.Z.fetchGoods(e)}),p=t=>{r.mutate({keyword:"",flower_category_id:e.id,listRows:e.perPage,page:t},{onSuccess:async t=>{let o=await t.json();e.setList(o.data.data)},onError:e=>{Toast.show("獲取失敗")}})};return(0,s.jsxs)("div",{style:{...e.top_style},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{className:n().distance}),(0,s.jsx)("div",{className:n().title,children:e.title}),(0,s.jsx)("div",{className:n().distance})]}),(0,s.jsx)("section",{children:(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:32},children:(null==e?void 0:null===(t=e.list)||void 0===t?void 0:t.length)?e.list.map((t,o)=>(0,s.jsx)(c.default,{top_style:{marginTop:12},src:t.src,item:t,title:t.categoryname,price:t.price,type:e.type,animation:e.animation},o)):(0,s.jsx)("div",{style:{width:"100%",textAlign:"center"},children:"商品列表為空"})})}),(0,s.jsx)("div",{className:a().btn_list,children:e.maxPage>1&&(0,s.jsxs)("div",{style:{display:"flex",...e.ButtonGroupStyle},children:[e.page>3&&(0,s.jsx)("div",{children:"...."}),(()=>{switch(e.page){case 1:if(3===e.maxPage)return[1,2,3];if(2===e.maxPage)return[1,2];if(1===e.maxPage)return[];case 2:if(3===e.maxPage)return[1,2,3];if(2===e.maxPage)return[1,2];return[1,2,3,4];case e.maxPage-1:return[e.page-2,e.page-1,e.page,e.maxPage];case e.maxPage:return[e.page-2,e.page-1,e.page];default:return[e.page-2,e.page-1,e.page,e.page+1,e.page+2]}})().map((t,o)=>(0,s.jsx)("div",{onClick:()=>{e.setPage(t),p(t)},className:t===e.page?a().select:"common",style:{marginLeft:8,cursor:"pointer",marginRight:4,paddingLeft:e.page>=10?5:12,paddingRight:e.page>=10?5:12,paddingTop:4,paddingBottom:4,borderRadius:50},children:t},o)),e.maxPage-e.page>2&&(0,s.jsx)("div",{children:"...."})]})})]})}},9854:function(e){e.exports={banner:"Home_banner__Ehv0A",banner_layout:"Home_banner_layout__2wkb8",banner_buttom:"Home_banner_buttom__ejiXV",search_area:"Home_search_area__REPE_",input:"Home_input__OUvlA",top_banner_area:"Home_top_banner_area__DaFqi",scroll_left:"Home_scroll_left__wJBAa",scroll_right:"Home_scroll_right__TP3yF",main_body:"Home_main_body__I0JZ7",goods_list:"Home_goods_list__wPEwe",contactus:"Home_contactus__c_Yxp",goods_scroll:"Home_goods_scroll__u1eh1",goods_view:"Home_goods_view__zsvaR",distance:"Home_distance__KJyqT",title:"Home_title__FX7xZ",distance_pic:"Home_distance_pic__vMG_s",serach_icon:"Home_serach_icon__Xgk0L",banner_desc:"Home_banner_desc__eIGHc"}},2897:function(e){e.exports={GoodsItem:"goodsItem_GoodsItem__MXINy",goods_img_cover:"goodsItem_goods_img_cover__jEOT9",goods_hover_img:"goodsItem_goods_hover_img__3EVbb",buy_goods_btn:"goodsItem_buy_goods_btn__soAMN",an_fangda:"goodsItem_an_fangda__4vw9J",fangda:"goodsItem_fangda__3Fzv7",buy_btn:"goodsItem_buy_btn__MHuB_",selector:"goodsItem_selector__gAyb2",Iscategory:"goodsItem_Iscategory__FPyCL",goods_title:"goodsItem_goods_title__AocWN",littletransition:"goodsItem_littletransition__uOyya",goods_carsouel_price:"goodsItem_goods_carsouel_price___LJ5n",goods_price:"goodsItem_goods_price__vLd1V",goods_img:"goodsItem_goods_img__wvQdu"}},9392:function(e){e.exports={btn_list:"goodsScroll_btn_list__j5Nx4",select:"goodsScroll_select__qCLsK"}},3250:function(e,t,o){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=o(7294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,r=s.useEffect,a=s.useLayoutEffect,c=s.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!i(e,o)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),s=n({inst:{value:o,getSnapshot:t}}),i=s[0].inst,d=s[1];return a(function(){i.value=o,i.getSnapshot=t,l(i)&&d({inst:i})},[e,o,t]),r(function(){return l(i)&&d({inst:i}),e(function(){l(i)&&d({inst:i})})},[e]),c(o),o};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},1688:function(e,t,o){"use strict";e.exports=o(3250)},8228:function(e,t,o){"use strict";o.d(t,{D:function(){return p}});var s=o(7294),i=o(464),n=o(2161),r=o(9886),a=o(81),c=o(3989);class l extends c.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let o=this.options;this.options=this.client.defaultMutationOptions(e),(0,n.VS)(o,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,r.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){a.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,o,s,i,n,r,a,c;e.onSuccess?(null==(t=(o=this.mutateOptions).onSuccess)||t.call(o,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(s=(i=this.mutateOptions).onSettled)||s.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(n=(r=this.mutateOptions).onError)||n.call(r,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(c=this.mutateOptions).onSettled)||a.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var d=o(5945),u=o(4798);function p(e,t,o){let r=(0,n.lV)(e,t,o),c=(0,d.NL)({context:r.context}),[p]=s.useState(()=>new l(c,r));s.useEffect(()=>{p.setOptions(r)},[p,r]);let m=(0,i.$)(s.useCallback(e=>p.subscribe(a.V.batchCalls(e)),[p]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),_=s.useCallback((e,t)=>{p.mutate(e,t).catch(h)},[p]);if(m.error&&(0,u.L)(p.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:_,mutateAsync:m.mutate}}function h(){}},464:function(e,t,o){"use strict";o.d(t,{$:function(){return i}});var s=o(1688);let i=s.useSyncExternalStore},4798:function(e,t,o){"use strict";function s(e,t){return"function"==typeof e?e(...t):!!e}o.d(t,{L:function(){return s}})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6219)}),_N_E=e.O()}]);